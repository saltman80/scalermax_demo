<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ScalerMax Admin Dashboard</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' https: 'nonce-a1b2c3'; style-src 'self' https: 'nonce-a1b2c3'; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ENjdO4Dr2bkBIFxQpeoYz1CnGdZXQ7YKj+47HCsHEB2z9vOo5dKZ7HisZV64VAN2" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" integrity="sha512-p6N8z1lnjIYE/4ub2QzEC2lN6pGHixuJv2z7P7q+VZl+PvGhDwXMJv+0U1TpH+EOqs0c1aj3Gq38PDRYTq0c9w==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <style nonce="a1b2c3">
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: #f8f9fa; }
    .sidebar-desktop { height: 100vh; position: fixed; top: 56px; left: 0; width: 240px; padding-top: 1rem; background-color: #343a40; overflow-y: auto; }
    .sidebar-desktop a { color: #adb5bd; padding: .75rem 1.25rem; display: block; text-decoration: none; }
    .sidebar-desktop a.active, .sidebar-desktop a:hover { color: #fff; background-color: #495057; }
    main { margin-top: 56px; margin-left: 240px; padding: 1rem; }
    @media (max-width: 768px) {
      .sidebar-desktop { display: none; }
      main { margin-left: 0; }
    }
    .card-counter { display: flex; align-items: center; justify-content: space-between; padding: 1rem; color: #fff; }
    .card-counter .icon { font-size: 2rem; opacity: .7; }
    .card-counter .count { font-size: 1.75rem; font-weight: bold; }
  </style>
</head>
<body>
  <nav class="navbar navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <button class="btn btn-dark d-md-none me-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas"><i class="fas fa-bars"></i></button>
      <a class="navbar-brand" href="#">ScalerMax Admin</a>
      <span class="navbar-text text-light">v1.0.0</span>
    </div>
  </nav>
  <aside class="sidebar-desktop">
    <a href="#" class="active"><i class="fas fa-tachometer-alt me-2"></i>Dashboard</a>
    <a href="#"><i class="fas fa-brain me-2"></i>Intents</a>
    <a href="#"><i class="fas fa-route me-2"></i>Routes</a>
    <a href="#"><i class="fas fa-cogs me-2"></i>Settings</a>
  </aside>
  <aside class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="sidebarOffcanvas" aria-labelledby="sidebarOffcanvasLabel">
    <div class="offcanvas-header bg-dark text-white">
      <h5 class="offcanvas-title" id="sidebarOffcanvasLabel">ScalerMax Admin</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body p-0 bg-dark">
      <a href="#" class="d-block text-light px-3 py-2 active"><i class="fas fa-tachometer-alt me-2"></i>Dashboard</a>
      <a href="#" class="d-block text-light px-3 py-2"><i class="fas fa-brain me-2"></i>Intents</a>
      <a href="#" class="d-block text-light px-3 py-2"><i class="fas fa-route me-2"></i>Routes</a>
      <a href="#" class="d-block text-light px-3 py-2"><i class="fas fa-cogs me-2"></i>Settings</a>
    </div>
  </aside>
  <main role="main">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="h2">Dashboard</h1>
      <button id="refreshBtn" class="btn btn-sm btn-outline-secondary"><i class="fas fa-sync-alt"></i> Refresh</button>
    </div>
    <div class="row g-3 mb-4">
      <div class="col-sm-6 col-md-3">
        <div class="card bg-primary">
          <div class="card-counter">
            <div>
              <div class="card-title">Total Requests</div>
              <div class="count"><span class="counter" data-target="12345">0</span></div>
            </div>
            <div class="icon"><i class="fas fa-chart-line"></i></div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-3">
        <div class="card bg-success">
          <div class="card-counter">
            <div>
              <div class="card-title">Active Intents</div>
              <div class="count"><span class="counter" data-target="456">0</span></div>
            </div>
            <div class="icon"><i class="fas fa-brain"></i></div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-3">
        <div class="card bg-warning">
          <div class="card-counter">
            <div>
              <div class="card-title">Error Rate</div>
              <div class="count"><span class="counter" data-target="2.5" data-decimals="1">0</span><span>%</span></div>
            </div>
            <div class="icon"><i class="fas fa-exclamation-triangle"></i></div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-3">
        <div class="card bg-danger">
          <div class="card-counter">
            <div>
              <div class="card-title">Avg Latency</div>
              <div class="count"><span class="counter" data-target="120">0</span><span>ms</span></div>
            </div>
            <div class="icon"><i class="fas fa-stopwatch"></i></div>
          </div>
        </div>
      </div>
    </div>
    <div class="row g-4">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">Requests per Hour</div>
          <div class="card-body">
            <canvas id="requestsChart" height="200"></canvas>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header">Latency Over Last 7 Days</div>
          <div class="card-body">
            <canvas id="latencyChart" height="200"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-4">
      <h2>Recent Logs</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm align-middle">
          <thead>
            <tr>
              <th>Timestamp</th>
              <th>Intent</th>
              <th>Model</th>
              <th>Latency</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="logsTable">
          </tbody>
        </table>
      </div>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoYz1CnGdZXQ7YKj+47HCsHEB2z9vOo5dKZ7HisZV64VAN2" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.0/chart.umd.min.js" integrity="sha512-pHTWx2cjYLuQHtyQpSkXw3tI+pBcj+oZ7qwy3Lf2XyZDjWzB+dpftafJ+zI74hiL2rOHYNOiLmKTjaezJ4+MaA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.6.2/countUp.umd.js" integrity="sha512-3fLb1LeKx9Gi+eZ9kr1OeU9wo3ArfLqNL/ODL5OwG0QLJV5vcVDZdJxzUP+vc3dZSOzM/6xY9cE1Cpf9sminbw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script nonce="a1b2c3">
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.counter').forEach(function(el) {
        const end = parseFloat(el.getAttribute('data-target'));
        const decimals = parseInt(el.getAttribute('data-decimals')) || 0;
        new countUp.CountUp(el, end, { duration: 2, decimalPlaces: decimals }).start();
      });
      const hours = Array.from({length:24}, (_,i) => i + ':00');
      const reqData = hours.map(() => Math.floor(Math.random() * 400 + 100));
      new Chart(document.getElementById('requestsChart'), {
        type: 'line',
        data: { labels: hours, datasets: [{ label: 'Requests', data: reqData, fill: true, backgroundColor: 'rgba(13,110,253,0.2)', borderColor: 'rgba(13,110,253,1)', tension: 0.4 }] },
        options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
      });
      const days = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];
      const latData = days.map(() => Math.floor(Math.random() * 200 + 50));
      new Chart(document.getElementById('latencyChart'), {
        type: 'bar',
        data: { labels: days, datasets: [{ label: 'Latency (ms)', data: latData, backgroundColor: 'rgba(220,53,69,0.7)', borderColor: 'rgba(220,53,69,1)', borderWidth: 1 }] },
        options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
      });
      const models = ['gpt-4','gpt-3.5-turbo','claude-v1','llama-2'];
      const intents = ['Translate','Summarize','Answer','Classify','Generate'];
      const statuses = ['Success','Error'];
      const logs = [];
      for (let i = 0; i < 8; i++) {
        const time = new Date(Date.now() - Math.random() * 3600000 * 24).toISOString().slice(0,19).replace('T',' ');
        logs.push({
          timestamp: time,
          intent: intents[Math.floor(Math.random()*intents.length)],
          model: models[Math.floor(Math.random()*models.length)],
          latency: Math.floor(Math.random()*200+50) + 'ms',
          status: statuses[Math.random() < 0.9 ? 0 : 1]
        });
      }
      const tbody = document.getElementById('logsTable');
      logs.forEach(log => {
        const tr = document.createElement('tr');
        const tdTime = document.createElement('td');
        tdTime.textContent = log.timestamp;
        tr.appendChild(tdTime);
        const tdIntent = document.createElement('td');
        tdIntent.textContent = log.intent;
        tr.appendChild(tdIntent);
        const tdModel = document.createElement('td');
        tdModel.textContent = log.model;
        tr.appendChild(tdModel);
        const tdLatency = document.createElement('td');
        tdLatency.textContent = log.latency;
        tr.appendChild(tdLatency);
        const tdStatus = document.createElement('td');
        tdStatus.textContent = log.status;
        tr.appendChild(tdStatus);
        tbody.appendChild(tr);
      });
      document.getElementById('refreshBtn').addEventListener('click', () => location.reload());
    });
  </script>
</body>
</html>